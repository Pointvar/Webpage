(()=>{"use strict";var e,t={1498:(e,t,r)=>{var n=r(7462),a=r(7294),l=r(3935),c=r(9226),o=r(4634),s=r(5861),i=r(7757),u=r.n(i),m=r(9669),d=r.n(m),p=r(8470);d().defaults.headers["X-Requested-With"]="XMLHttpRequest",d().interceptors.response.use((function(e){var t=e.data;return t.success?t.data:(p.Z.error({title:"后端接口调用错误，请联系客服处理。",content:t.data.msg}),Promise.reject(t))}),(function(e){return p.Z.error({title:"后端接口调用错误，请联系客服处理。",content:e.response.statusText}),Promise.reject(e)}));const f=d();var h=function(e){return f.post("ajax_get_shop_info",e)},v=function(e){return f.post("ajax_create_copy_task",e)},y=function(e){return f.post("ajax_get_copy_complex_tasks",e)},E=function(e){return f.post("ajax_hide_copy_complex_tasks",e)},g=function(e){return f.post("ajax_get_logistic_templates",e)},_=function(e){return f.post("ajax_get_authorize_cats",e)},k=(0,o.hg)("common/getShopInfo",(0,s.Z)(u().mark((function e(){var t,r,n=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:{},e.next=3,h(t);case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})))),x=(0,o.oM)({name:"common",initialState:{shopInfo:{}},reducers:{},extraReducers:function(e){e.addCase(k.fulfilled,(function(e,t){e.shopInfo=t.payload}))}}),S=function(e){return e.common.shopInfo};const b=x.reducer;var I=(0,o.hg)("copy/createCopyTask",(0,s.Z)(u().mark((function e(){var t,r=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:{},e.next=3,v(t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))),w=(0,o.hg)("copy/getCopyComplexTasks",(0,s.Z)(u().mark((function e(){var t,r=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:{},e.next=3,y(t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))),C=(0,o.hg)("copy/hideCopyComplexTasks",(0,s.Z)(u().mark((function e(){var t,r=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:{},e.next=3,E(t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))),Z=(0,o.hg)("copy/getLogisticTemplates",(0,s.Z)(u().mark((function e(){var t,r=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:{},e.next=3,g(t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))),N=(0,o.hg)("copy/getAuthorizeCats",(0,s.Z)(u().mark((function e(){var t,r=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:{},e.next=3,_(t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))),L={complexTasks:[],selectedKeys:[],filterData:{filterTitle:null,filterId:null,filterPlatform:"#ALL#",filterStatus:"#ALL#"},logisticTemplates:[],authorizeCats:[]},T=(0,o.oM)({name:"copy",initialState:L,reducers:{setFilterTitle:function(e,t){e.filterData.filterTitle=t.payload},setFilterId:function(e,t){e.filterData.filterId=t.payload},setFilterPlatform:function(e,t){e.filterData.filterPlatform=t.payload},setfilterStatus:function(e,t){e.filterData.filterStatus=t.payload},setFilterData:function(e){e.filterData=L.filterData},setSelectedKeys:function(e,t){e.selectedKeys=t.payload}},extraReducers:function(e){e.addCase(I.fulfilled,(function(){})),e.addCase(w.fulfilled,(function(e,t){e.complexTasks=t.payload})),e.addCase(C.fulfilled,(function(e,t){e.complexTasks=t.payload,e.selectedKeys=[]})),e.addCase(Z.fulfilled,(function(e,t){e.logisticTemplates=t.payload.map((function(e){return{key:e.template_id,value:e.template_name}}))})),e.addCase(N.fulfilled,(function(e,t){e.authorizeCats=t.payload}))}}),F=T.actions,A=F.setFilterTitle,O=F.setFilterId,j=F.setFilterPlatform,P=F.setfilterStatus,D=F.setFilterData,M=F.setSelectedKeys,K=function(e){return e.copy.complexTasks},R=function(e){return e.copy.selectedKeys},H=function(e){return e.copy.filterData};const q=T.reducer,z=(0,o.xC)({reducer:{common:b,copy:q}});var W=r(7183),$=r(9772),B=r(5241),Q=r(1577),V=r(328),X=r(669),G=r(2925),J=r(9210),U=r(7066),Y=r(4e3),ee=r(5035),te=r(9447),re=(r(63),W.Z.Header),ne=a.createElement("div",{className:"user-popover",style:{display:"flex",justifyContent:"space-between",width:180}},a.createElement("a",{href:"/auth/pinduoduo_logout"},a.createElement(Y.Z,null),"切换账号"),a.createElement("a",{href:"/auth/pinduoduo_logout",style:{color:"red"}},a.createElement(ee.Z,null),"退出登陆"));const ae=function(e){var t=e.activeLink,r=e.NavMenus,n=e.shopInfo,l=n.shop_name,c=n.shop_logo;return a.createElement(re,null,a.createElement("div",{className:"logo"},a.createElement("a",{href:"/index"},a.createElement("img",{src:te}))),a.createElement("div",{className:"menus"},a.createElement(J.Z,{theme:"dark",mode:"horizontal",defaultSelectedKeys:[t],style:{fontSize:20}},r.map((function(e){return a.createElement(J.Z.Item,{key:e.key},a.createElement("a",{href:e.link},e.name))})))),a.createElement(B.Z,{placement:"bottom",content:ne,trigger:"hover"},a.createElement("div",{className:"user"},a.createElement("img",{src:c}),a.createElement("span",null,l))),a.createElement("div",{className:"operate"},a.createElement(Q.Z,{type:"primary"},a.createElement("a",{href:"tencent://message/?uin=1655605815"},"联系我们(Windows)")),a.createElement(U.Z,{title:"加入QQ群后联系管理员:958237009"},a.createElement(Q.Z,{type:"primary"},"联系我们(MAC)"))))};var le=r(7031),ce=r(5779),oe=r(5443),se=le.Z.Option,ie=ce.Z.Search;const ue=function(e){var t=e.columns,r=e.statusMaps,n=e.platformMaps,l=e.dataSource,c=e.selectedKeys,o=e.rowSelection,s=e.onSearchTitle,i=e.onSearchId,u=e.onSearchPlatform,m=e.onSearchStatus,d=e.onClickRestSearch,p=e.onClickHideTasks;return a.createElement("div",{className:"table-area-box"},a.createElement("div",{className:"table_header"},a.createElement("div",{className:"filter_box"},a.createElement("div",{className:"filter_element"},a.createElement("span",{className:"label"},"标题搜索:"),a.createElement(ie,{placeholder:"支持商品标题模糊搜索",allowClear:!0,onSearch:s})),a.createElement("div",{className:"filter_element"},a.createElement("span",{className:"label"},"商品ID搜索:"),a.createElement(ie,{placeholder:"支持源ID和上货后ID搜索",allowClear:!0,style:{width:230},onSearch:i})),a.createElement("div",{className:"filter_element"},a.createElement("span",{className:"label"},"商品来源:"),a.createElement(le.Z,{defaultValue:"#ALL#",style:{width:84},onChange:u},n.map((function(e){var t=e.key,r=e.value;return a.createElement(se,{key:t,value:t},r)})))),a.createElement("div",{className:"filter_element"},a.createElement("span",{className:"label"},"上货状态:"),a.createElement(le.Z,{defaultValue:"#ALL#",style:{width:84},onChange:m},r.map((function(e){var t=e.key,r=e.value;return a.createElement(se,{key:t,value:t},r)})))),a.createElement(Q.Z,{className:"filter_element",type:"primary",onClick:d},"搜索重置")),a.createElement("div",{className:"operator"},a.createElement("div",{className:"operator_info"},a.createElement("div",null,"已选择:",a.createElement("span",{className:"selectMessage"},c.length),"条"),a.createElement("div",null,"总记录:",l.length,"条")),a.createElement(oe.Z,{title:a.createElement("span",null,"亲，确定删除已选择的上货记录吗?",a.createElement("br",null),"该操作仅会删除软件内记录，不删除店铺内商品。"),okText:"确定",cancelText:"取消",onConfirm:p},a.createElement(Q.Z,{type:"primary",danger:!0},"删除已选")))),a.createElement(V.Z,{tableLayout:"fixed",rowSelection:o,dataSource:l,columns:t,bordered:!0,rowKey:"_id"}))};var me=W.Z.Footer;const de=function(){return a.createElement(me,{className:"footer-container"},a.createElement("span",null,"杭州矩阵云网络技术有限公司版权所有©"),a.createElement("a",{href:"https://beian.miit.gov.cn/",target:"_blank",rel:"noreferrer"},"浙ICP备2021026933号"))};var pe=r(6486),fe=W.Z.Content,he={NavMenus:[{name:"一键复制",link:"/link-copy",key:"link-copy"},{name:"我的记录",link:"/copy_record",key:"copy_record"}],activeLink:"copy_record"},ve=[{key:"#ALL#",value:"全部"},{key:"#WAIT#",value:"等待中"},{key:"#PROCESS#",value:"处理中"},{key:"#FINISH#",value:"任务完成"},{key:"#FAIL#",value:"任务失败"}],ye=(0,pe.reduce)(ve,(function(e,t){return e[t.key]=t.value,e}),{}),Ee=(0,pe.reduce)([{key:"#WAIT#",value:"等待中"},{key:"#PROCESS#",value:"审核中"},{key:"#FINISH#",value:"审核通过"},{key:"#FAIL#",value:"审核驳回"}],(function(e,t){return e[t.key]=t.value,e}),{}),ge=[{key:"#ALL#",value:"全部"},{key:"taobao",value:"淘宝"},{key:"tianmao",value:"天猫"}],_e=(0,pe.reduce)(ge,(function(e,t){return e[t.key]=t.value,e}),{}),ke=[{title:"源商品信息",dataIndex:"src_item",width:400,align:"center",className:"src-item-info",ellipsis:!0,render:function(e,t){return t.main_pic&&t.itme_title?a.createElement(a.Fragment,null,a.createElement("img",{src:"".concat(t.main_pic,"_60x60q90.jpg")}),a.createElement("a",{href:t.copy_url},a.createElement("span",null,t.itme_title))):a.createElement("a",{href:t.copy_url},t.parsed_url)}},{title:"源商品ID",dataIndex:"src_num_iid",align:"center"},{title:"来源",dataIndex:"source",align:"center",render:function(e){return _e[e]}},{title:"上货时间",dataIndex:"c_time",align:"center"},{title:"商品ID",dataIndex:"dst_num_iid",align:"center"},{title:"上货状态",dataIndex:"status",align:"center",render:function(e,t){var r=ye[e],n=0,l="normal",c="rgb(0, 0, 0)";return"#PROCESS#"===e?(n=t.process_step,c="rgb(24, 144, 255)"):"#FINISH#"===e?(n=100,l="success",c="rgb(82, 195, 27)"):"#FAIL#"===e&&(n=100,l="exception",c="rgb(255, 77, 78)"),a.createElement(a.Fragment,null,a.createElement($.Z,{type:"circle",percent:n,status:l,width:40}),a.createElement("div",{className:"x",style:{color:c}},r))}},{title:"审核状态",dataIndex:"check_status",align:"center",render:function(e,t){var r,n=Ee[e],l=0,c="normal",o="rgb(0, 0, 0)";return"#PROCESS#"===e?(l=50,o="rgb(24, 144, 255)"):"#FINISH#"===e?(l=100,c="success",o="rgb(82, 195, 27)"):"#FAIL#"===e&&(l=100,c="exception",o="rgb(255, 77, 78)",r=a.createElement("span",null,"驳回原因: ",t.check_fail_msg,a.createElement("hr",null)," ",a.createElement("strong",null,"点击右侧编辑商品按钮编辑后提交。"))),r?a.createElement(B.Z,{placement:"top",content:r,trigger:"hover"},a.createElement($.Z,{type:"circle",percent:l,status:c,width:40}),a.createElement("div",{style:{color:o}},n)):a.createElement(a.Fragment,null,a.createElement($.Z,{type:"circle",percent:l,status:c,width:40}),a.createElement("div",{style:{color:o}},n))}},{title:"操作",key:"action",align:"center",render:function(e,t){var r;t.dst_num_iid&&("#FINISH#"===t.check_status?r="https://mms.pinduoduo.com/goods/goods_list/transfer?id=".concat(t.dst_num_iid):"#FAIL#"===t.check_status&&(r="https://mms.pinduoduo.com/goods/goods_return_detail?id=".concat(t.dst_num_iid)));var n=!r;return a.createElement("a",{href:r,target:"_blank",rel:"noreferrer"},a.createElement(Q.Z,{type:"dashed",disabled:n},"编辑商品"))}}];function xe(){var e=(0,c.I0)(),t=(0,c.v9)(K),r=(0,c.v9)(S);(0,a.useEffect)((function(){e(k({})),e(w({}))}),[]);var l=(0,c.v9)(H),o=l.filterTitle,s=l.filterId,i=l.filterPlatform,u=l.filterStatus;o&&(t=t.filter((function(e){return(0,pe.includes)(e.itme_title,o)}))),s&&(t=t.filter((function(e){return(0,pe.isEqual)(e.src_num_iid,s)||(0,pe.isEqual)(e.dst_num_iid,s)}))),"#ALL#"!==i&&(t=t.filter((function(e){return(0,pe.isEqual)(e.source,i)}))),"#ALL#"!==u&&(t=t.filter((function(e){return(0,pe.isEqual)(e.status,u)})));var m=(0,c.v9)(R),d={selectedKeys:m,onChange:function(t){e(M(t))},selections:[V.Z.SELECTION_ALL,V.Z.SELECTION_NONE]};return a.createElement(a.Fragment,null,a.createElement(ae,(0,n.Z)({},he,{shopInfo:r})),a.createElement(fe,null,a.createElement(ue,{columns:ke,dataSource:t,rowSelection:d,statusMaps:ve,platformMaps:ge,selectedKeys:m,onSearchTitle:function(t){e(A(t))},onSearchId:function(t){e(O(t))},onSearchPlatform:function(t){e(j(t))},onSearchStatus:function(t){e(P(t))},onClickRestSearch:function(){e(D())},onClickHideTasks:function(){e(C({in_ids:m}))}})),a.createElement(de,null))}l.render(a.createElement(X.ZP,{locale:G.Z},a.createElement(c.zt,{store:z},a.createElement(xe,null))),document.getElementById("root"))},9447:(e,t,r)=>{e.exports=r.p+"asset/kjsh_logo_b1979a.png"}},r={};function n(e){var a=r[e];if(void 0!==a)return a.exports;var l=r[e]={id:e,loaded:!1,exports:{}};return t[e].call(l.exports,l,l.exports,n),l.loaded=!0,l.exports}n.m=t,e=[],n.O=(t,r,a,l)=>{if(!r){var c=1/0;for(u=0;u<e.length;u++){for(var[r,a,l]=e[u],o=!0,s=0;s<r.length;s++)(!1&l||c>=l)&&Object.keys(n.O).every((e=>n.O[e](r[s])))?r.splice(s--,1):(o=!1,l<c&&(c=l));if(o){e.splice(u--,1);var i=a();void 0!==i&&(t=i)}}return t}l=l||0;for(var u=e.length;u>0&&e[u-1][2]>l;u--)e[u]=e[u-1];e[u]=[r,a,l]},n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),n.j=809,(()=>{var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var r=t.getElementsByTagName("script");r.length&&(e=r[r.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e+"../"})(),(()=>{var e={809:0};n.O.j=t=>0===e[t];var t=(t,r)=>{var a,l,[c,o,s]=r,i=0;for(a in o)n.o(o,a)&&(n.m[a]=o[a]);if(s)var u=s(n);for(t&&t(r);i<c.length;i++)l=c[i],n.o(e,l)&&e[l]&&e[l][0](),e[c[i]]=0;return n.O(u)},r=self.webpackChunkclient=self.webpackChunkclient||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var a=n.O(void 0,[736],(()=>n(1498)));a=n.O(a)})();